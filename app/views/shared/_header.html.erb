<header>
  <nav class="navbar">
    <div class="container flex flex-wrap justify-center items-center mx-2.5 gap-x-4">

      <!-- 中央: タイトル -->
      <div class="navbar-brand flex justify-center items-center mb-4 sm:mb-4 sm:w-auto w-full"> <!-- デスクトップでも15pxのマージンが適用されるように変更 -->
        <h1 class="font-bold text-xl sm:text-2xl">GAMES_MEMORY</h1>
      </div>

      <!-- スマホ表示用のコンテナ (sm:hidden) -->
      <div class="flex items-center justify-center space-x-3 w-full sm:hidden">
        <% if user_signed_in? %>
          <!-- ユーザーアイコン -->
          <div class="user-icon">
            <%= link_to "プロフィールへ", post_path(current_user), class: "btn btn-primary btn-sm" %>
          </div>

          <!-- スマホ用のドロップダウンメニュー -->
          <div class="relative inline-block text-left">
            <button type="button" class="btn btn-sm text-sm text-gray-700 hover:text-blue-500 inline-flex justify-center items-center" id="dropdownMenuButton" aria-expanded="false">
              投稿メニュー
              <svg class="ml-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </button>

            <!-- ドロップダウンメニュー -->
            <div class="dropdown-menu absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 hidden z-10" id="dropdownMenu">
              <div class="py-1">
                <%= link_to '動画投稿', new_post_path, class: 'block text-gray-700 hover:bg-gray-100 px-4 py-2 text-sm' %>
                <%= link_to 'スレッド投稿', new_sureddo_path, class: 'block text-gray-700 hover:bg-gray-100 px-4 py-2 text-sm' %>
              </div>
            </div>
          </div>

          <!-- 通知アイコン -->
          <div class="notification-icon">
            <%= link_to notifications_path, class: "btn btn-sm text-sm text-gray-700 hover:text-blue-500" do %>
              <i class="fas fa-bell text-xl"></i>
            <% end %>
          </div>
        <% else %>
          <!-- ログインボタン -->
          <%= button_to safe_join([
            image_tag("https://img.icons8.com/external-those-icons-flat-those-icons/24/external-Google-logos-and-brands-those-icons-flat-those-icons.png", width: 20, height: 20, alt: "Googleログイン", class: "inline-block"),
            content_tag(:span, "ログイン", class: "text-xs text-brack font-light")
          ]), user_google_oauth2_omniauth_authorize_path, method: :post, data: { turbo: false }, class: "btn btn-sm gap-1 font-semibold rounded-full bg-white hover:border-orange-500 hover:bg-white drop-shadow-md hover:drop-shadow-none" %>
        <% end %>
      </div>

      <!-- デスクトップ表示用のコンテナ (元のコード) - スマホでは非表示 (hidden sm:flex) -->
      <div class="login hidden sm:flex flex-wrap items-center space-x-2.5 sm:space-x-4 w-full justify-center gap-1">
        <!-- ログイン状態に応じた表示 -->
        <% if user_signed_in? %>
          <!-- ユーザーアイコン -->
          <div class="user-icon sm:w-auto w-full sm:mb-0 mb-2">
            <%= link_to "プロフィールへ", post_path(current_user), class: "btn btn-primary" %>
          </div>
        <% else %>
          <!-- ログインボタン -->
          <%= button_to safe_join([
            image_tag("https://img.icons8.com/external-those-icons-flat-those-icons/24/external-Google-logos-and-brands-those-icons-flat-those-icons.png", width: 20, height: 20, alt: "Googleログイン", class: "inline-block"),
            content_tag(:span, "ログイン", class: "text-xs text-brack font-light")
          ]), user_google_oauth2_omniauth_authorize_path, method: :post, data: { turbo: false }, class: "btn btn-sm gap-1 font-semibold rounded-full bg-white hover:border-orange-500 hover:bg-white drop-shadow-md hover:drop-shadow-none" %>
        <% end %>

        <% if user_signed_in? %>
          <!-- デスクトップ用のリンク -->
          <div class="hidden sm:flex space-x-4">
            <%= link_to '動画投稿', new_post_path, class: 'btn btn-primary' %>
            <%= link_to 'スレッド投稿', new_sureddo_path, class: 'btn btn-primary' %>
          </div>
        <% end %>

        <!-- 通知アイコン -->
        <div class="notification-icon sm:ml-4 sm:w-auto w-full flex justify-center items-center">
          <%= link_to notifications_path, class: "btn btn-sm text-sm text-gray-700 hover:text-blue-500" do %>
            <i class="fas fa-bell text-xl"></i> <!-- 通知アイコン（FontAwesomeなどを使用） -->
          <% end %>
        </div>
      </div>
    </div>
  </nav>
</header>